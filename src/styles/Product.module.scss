@import './utils.scss';

$padding: calc(var(--font-size) * 0.8);

.product {
	position: relative;
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: var(--gap-horizontal);
	.product_addon {
		background-color: var(--price);
		color: var(--background);
		font-size: calc(var(--font-size) * 0.7);
		overflow: hidden;
		letter-spacing: var(--font-spacing);
		text-transform: uppercase;
		font-weight: 700;
		z-index: 3;
		display: flex;
		justify-content: center;
		align-items: center;
		&.round {
			text-align: center;
			position: absolute;
			width: 8em;
			height: 8em;
			border-radius: 4em;
			right: -2em;
			top: -2em;
		}
		&.banner {
			position: absolute;
			transform: rotate(-45deg);
			transform-origin: 50% 50%;
			width: 100%;
			height: 2.5em;
			right: -30%;
			bottom: 20%;
			@media screen and (max-width: $breakpoint-mobile) {
				font-size: calc(var(--font-size) * 0.55);
			}
			@media screen and (max-width: $breakpoint-mobileSmall) {
				font-size: calc(var(--font-size) * 0.7);
			}
		}
	}
	.product_container {
		position: relative;
		width: 100%;
		aspect-ratio: 3 / 2;
		background-size: cover;
		background-position: center;
		.product_image_container {
			z-index: 0;
			position: absolute;
			border-top-right-radius: $padding;
			overflow: hidden;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			opacity: 0.4;
			filter: grayscale(0.25);
		}
		.product_info_container {
			z-index: 1;
			position: relative;
			border-top-right-radius: $padding;
			overflow: hidden;
			padding: $padding;
			height: 100%;
			h3,
			h4 {
				line-height: 1;
				letter-spacing: var(--font-spacing);
			}
			h3 {
				font-size: var(--font-size);
				color: var(--primary);
				text-transform: uppercase;
				font-weight: 600;
				@media screen and (max-width: $breakpoint-mobile) {
					font-size: calc(var(--font-size) * 0.8);
				}
				@media screen and (max-width: $breakpoint-mobileSmall) {
					font-size: var(--font-size);
				}
			}
			h4 {
				margin-top: 0.5em;
				font-size: calc(var(--font-size) * 0.8);
				color: var(--text);
				font-weight: 700;
				@media screen and (max-width: $breakpoint-mobile) {
					font-size: calc(var(--font-size) * 0.7);
				}
				@media screen and (max-width: $breakpoint-mobileSmall) {
					font-size: calc(var(--font-size) * 0.8);
				}
			}
		}
	}
	&:hover,
	&:focus-visible {
		.product_image_container {
			opacity: 0.6;
			filter: grayscale(0);
		}
	}
	.product_price {
		text-align: center;
		line-height: 1;
		letter-spacing: var(--font-spacing);
		font-size: var(--font-size);
		@media screen and (max-width: $breakpoint-mobile) {
			font-size: calc(var(--font-size) * 0.8);
		}
		color: var(--price);
		font-weight: 700;
	}
}
